{% extends 'templates/default.twig' %}

{% block title %}{{ user.getFullNameOrUsername }}{% endblock %}

{% block styles %}
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/main.css" rel="stylesheet">
{% endblock %}

{% block content %}

<section>
    <div class="container">
        <div class="box first" id="container">
			<div class="row">
				<div class="center gap">
		            <h2>Profile</h2>
		        </div>
				<div class="col-sm-2 col-md-2">
		            <img src="{{user.getAvatarUrl({size: 75})}}" alt="Profile picture for {{user.getFullNameOrUsername}}" class="img-rounded img-responsive" />
		        </div>
		        <div class="col-sm-4 col-md-4">
		            <blockquote>
		                <p>{{ user.getFullNameOrUsername }}</p> <small><cite title="Source Title">{{user.username}}</cite></small>
		            </blockquote>
		            <p> <i class="glyphicon glyphicon-envelope"></i> {{user.email}}</p>
		        </div>
		        <div class="col-sm-6 col-md-6">
		        	<div class="center gap">
			            <h3>Update Profile</h3>
			        </div>
		        	<form action="{{ urlFor('update', {id: user.id}) }}" method="post" autocomplete="off">
		        		<div class="form-group">
		        			<label for="email">Email</label>
							<input type="email" name="email" id="email" class="form-control" value="{{user.email}}" required>
							{% if errors.has('email') %} <p class="text-danger">{{errors.first('email')}}</p> {% endif %}
		        		</div>
		        		<div class="form-group">
		        			<label for="first_name">First Name</label>
							<input type="text" name="first_name" id="first_name" class="form-control" value="{{user.first_name}}">
							{% if errors.has('first_name') %} <p class="text-danger">{{errors.first('first_name')}}</p> {% endif %}
		        		</div>
		        		<div class="form-group">
		        			<label for="last_name">Last Name</label>
							<input type="text" name="last_name" id="last_name" class="form-control" value="{{user.last_name}}">
							{% if errors.has('last_name') %} <p class="text-danger">{{errors.first('last_name')}}</p> {% endif %}
		        		</div>
		        		<div class="form-group">
		        			<input type="submit" value="Update" class="btn btn-primary">
		        		</div>
		        		<input type="hidden" name="{{ csrf_key }}" value="{{ csrf_token }}">
		        	</form>
		        </div>
			</div>
        </div><!--/.box-->
    </div><!--/.container-->
</section><!--/#services-->
{% endblock %}